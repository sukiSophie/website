const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Home-p9zUc2p7.js","./vue-BPFj3LUE.js","./Email-C6Td8eMH.js","./2-BgCWtFs8.js","./pinia-Id_k7p4J.js","./axios-C7aFLusC.js","./aplayer-kM0Px3Dv.js","./Home-BORPjqwt.css","./Blog-BbrwbiRE.js","./Blog20240707-Bh6UWM_e.js","./Blog20240707-gMG5SYfp.css","./dynamic-import-helper-BheWnx7M.js","./Blog-D_2xFfLb.css","./BlogDetail-Bkh_7e7D.js","./BlogDetail-DAlZwCYt.css"])))=>i.map(i=>d[i]);
import{j as T,r as p,k as _,l as e,p as M,T as le,q as U,s as z,u as g,v as S,d as E,x as B,y as P,z as F,A as V,F as G,B as ie,C as K,D as H,E as Y,G as W,H as q,I as ae,J as re,K as ue,L as ce}from"./vue-BPFj3LUE.js";import{d as de,c as me}from"./pinia-Id_k7p4J.js";import{a as pe}from"./axios-C7aFLusC.js";import{r as fe,g as ve}from"./aplayer-kM0Px3Dv.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=i(l);fetch(l.href,a)}})();const ge={key:0,class:"menu-container"},ye={class:"menu-header"},_e={class:"menu-content"},he=T({__name:"Menu",emits:["open-music"],setup(f,{emit:o}){const i=p(!1),s=o;function l(){i.value=!1,s("open-music")}return(a,n)=>{const u=z("router-link");return g(),_("div",null,[e("div",{class:"menu-button",onClick:n[0]||(n[0]=c=>i.value=!0)},n[4]||(n[4]=[e("i",{class:"fa-solid fa-bars"},null,-1)])),M(le,{name:"slide",mode:"out-in"},{default:U(()=>[i.value?(g(),_("div",ge,[e("div",ye,[n[6]||(n[6]=e("span",null,"菜单",-1)),e("button",{class:"close-button",onClick:n[1]||(n[1]=c=>i.value=!1)},n[5]||(n[5]=[e("i",{class:"fa-solid fa-times"},null,-1)]))]),e("div",_e,[M(u,{to:"/",class:"menu-item",onClick:n[2]||(n[2]=c=>i.value=!1)},{default:U(()=>n[7]||(n[7]=[e("i",{class:"fa-solid fa-home"},null,-1),e("span",null,"首页",-1)])),_:1,__:[7]}),M(u,{to:"/blog",class:"menu-item",onClick:n[3]||(n[3]=c=>i.value=!1)},{default:U(()=>n[8]||(n[8]=[e("i",{class:"fa-solid fa-book"},null,-1),e("span",null,"博客",-1)])),_:1,__:[8]}),e("div",{class:"menu-item",onClick:l},n[9]||(n[9]=[e("i",{class:"fa-solid fa-music"},null,-1),e("span",null,"音乐",-1)]))])])):S("",!0)]),_:1})])}}}),A=(f,o)=>{const i=f.__vccOpts||f;for(const[s,l]of o)i[s]=l;return i},we=A(he,[["__scopeId","data-v-1e88508d"]]);var ke=fe();const be=ve(ke),X=de("music",()=>{const f="netease",o="playlist",i="13939160715",s=p([]),l=p(0),a=p(!1),n=p({name:"",artist:"",cover:""}),u=p(0),c=p(0),m=p(.5),d=p("");let t=null,k=p(!1),h=null;async function w(b){return h||(t?Promise.resolve():(h=(async()=>{try{const R=new AbortController,ne=setTimeout(()=>R.abort(),1e4),oe=await pe.get(`https://api.injahow.cn/meting/?server=${f}&type=${o}&id=${i}`,{signal:R.signal});clearTimeout(ne),s.value=oe.data,s.value&&s.value.length>0&&(t=new be({container:b,order:"random",preload:"none",listMaxHeight:"336px",volume:.5,mutex:!0,lrcType:3,audio:s.value}),$(),x(),r(),L(),y(),k.value=!0)}catch(R){throw h=null,R}})(),h))}function $(){t&&(t.on("play",()=>{x(),r()}),t.on("pause",()=>{r()}),t.on("listswitch",()=>{x(),L()}),t.on("switch",()=>{x(),L()}),t.on("timeupdate",()=>{y(),L()}))}function x(){if(!t)return;const b=t.list?.index??0;l.value=b;const R=t.list?.audios?.[b]||{};n.value={name:R.name||"",artist:R.artist||"",cover:R.cover||""}}function L(){const b=document.querySelector(".aplayer-lrc-current");d.value=b&&b.textContent||""}function y(){t&&(u.value=t.audio.currentTime||0,c.value=t.audio.duration||0)}function r(){a.value=t?.audio?.paused===!1}function C(){t&&t.play()}function D(){t&&t.pause()}function v(){t&&t.toggle()}function I(){t&&t.skipBack()}function J(){t&&t.skipForward()}function Q(b){t&&t.seek(b)}function Z(b){t&&(t.volume(b,!0),m.value=b)}function ee(b){t&&t.list?.switch?.(b)}function te(){return t}function se(){return k.value}return{musicData:s,currentIndex:l,isPlaying:a,currentMusic:n,currentTime:u,duration:c,volume:m,currentLrc:d,initPlayer:w,play:C,pause:D,toggle:v,skipBack:I,skipForward:J,seek:Q,setVolume:Z,playIndex:ee,getAP:te,updateLrc:L,getInitialized:se,isInitialized:k}}),xe={key:0,class:"music-modal-layout"},Ce={class:"music-modal-left"},$e={class:"music-cover-modal"},Le=["src"],Pe={class:"music-info-modal"},Ie={class:"music-title-modal"},Ee={class:"music-artist-modal"},Re={class:"music-progress-modal"},Me=["max"],De={class:"music-time-modal"},Se={class:"music-controls-modal"},Te={class:"music-volume-modal"},Ae={class:"music-modal-right"},Ue={class:"music-list-modal"},Be=["onClick"],Oe={key:1},Fe={class:"music-controls"},Ve={class:"music-info"},qe={class:"music-name",id:"music-name"},Ne={class:"music-volume"},je=T({__name:"Music",props:{mode:{type:String,default:""}},setup(f){const o=X(),i=E(()=>o.musicData),s=E(()=>o.currentMusic),l=E(()=>o.currentIndex),a=E(()=>o.isPlaying),n=E({get:()=>o.currentTime,set:y=>o.seek(y)}),u=E(()=>o.duration),c=E({get:()=>o.volume,set:y=>o.setVolume(y)});E(()=>o.currentLrc);const m=()=>o.toggle(),d=()=>o.skipBack(),t=()=>o.skipForward(),k=y=>o.playIndex(y),h=y=>{if(!y)return"00:00";const r=Math.floor(y/60),C=Math.floor(y%60);return`${r.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},w=()=>{},$=()=>{},x=()=>{},L=()=>{c.value>0?c.value=0:c.value=.5};return(y,r)=>(g(),_("div",{class:B(["music-container",{"music-modal":f.mode==="modal"}])},[f.mode==="modal"?(g(),_("div",xe,[e("div",Ce,[e("div",$e,[s.value.cover?(g(),_("img",{key:0,src:s.value.cover,alt:"cover"},null,8,Le)):S("",!0)]),e("div",Pe,[e("div",Ie,P(s.value.name),1),e("div",Ee,P(s.value.artist),1)]),e("div",Re,[F(e("input",{type:"range",min:"0",max:u.value,step:"1","onUpdate:modelValue":r[0]||(r[0]=C=>n.value=C),onInput:w},null,40,Me),[[V,n.value]]),e("div",De,P(h(n.value))+" / "+P(h(u.value)),1)]),e("div",Se,[e("button",{onClick:d},r[2]||(r[2]=[e("i",{class:"fa-solid fa-backward"},null,-1)])),e("button",{onClick:m,class:"play-btn-modal"},[e("i",{class:B(a.value?"fa-solid fa-pause":"fa-solid fa-play")},null,2)]),e("button",{onClick:t},r[3]||(r[3]=[e("i",{class:"fa-solid fa-forward"},null,-1)]))]),e("div",Te,[r[4]||(r[4]=e("i",{class:"fa-solid fa-volume-high",id:"music-volume"},null,-1)),F(e("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":r[1]||(r[1]=C=>c.value=C),onInput:x},null,544),[[V,c.value,void 0,{number:!0}]])])]),e("div",Ae,[e("div",Ue,[r[5]||(r[5]=e("div",{class:"music-list-title"},"播放列表",-1)),e("ul",null,[(g(!0),_(G,null,ie(i.value,(C,D)=>(g(),_("li",{key:C.name+D,class:B({active:D===l.value}),onClick:v=>k(D)},[e("span",null,P(C.name)+" - "+P(C.artist),1)],10,Be))),128))])])])])):(g(),_("div",Oe,[e("div",Fe,[e("div",Ve,[e("div",qe,[e("span",null,P(s.value.name?s.value.name+" - "+s.value.artist:"点击播放音乐"),1)]),r[6]||(r[6]=e("div",{class:"music-lyrics",id:"lrc"},[e("span",{class:"lrc-show"},[e("span",null,"欢迎来到我的网站")])],-1))]),e("div",{class:"music-buttons"},[e("button",{id:"last",class:"control-btn",onClick:d},r[7]||(r[7]=[e("i",{class:"fa-solid fa-backward"},null,-1)])),e("button",{id:"play",class:"control-btn play-btn",onClick:m},r[8]||(r[8]=[e("i",{class:"fa-solid fa-play"},null,-1)])),e("button",{id:"next",class:"control-btn",onClick:t},r[9]||(r[9]=[e("i",{class:"fa-solid fa-forward"},null,-1)]))]),e("div",Ne,[e("button",{id:"volume-ico",class:"volume-btn",onClick:L},r[10]||(r[10]=[e("i",{class:"fa-solid fa-volume-high"},null,-1)])),e("input",{id:"volume",type:"range",min:"0",max:"1",step:"0.1",value:"0.5",onInput:$,class:"volume-slider"},null,32)])])]))],2))}}),ze=A(je,[["__scopeId","data-v-43383386"]]),Ge={class:"music-modal-panel"},Ke=T({__name:"MusicModal",setup(f){return(o,i)=>(g(),_("div",{class:"music-modal-mask",onClick:i[1]||(i[1]=K(s=>o.$emit("close"),["self"]))},[e("div",Ge,[e("button",{class:"music-modal-close",onClick:i[0]||(i[0]=s=>o.$emit("close"))},i[2]||(i[2]=[e("i",{class:"fa-solid fa-xmark"},null,-1)])),M(ze,{mode:"modal"})])]))}}),He=A(Ke,[["__scopeId","data-v-117f19fc"]]),Ye={style:{display:"none"}},We=T({__name:"GlobalMusicPlayer",setup(f){const o=p(),i=X();let s=null;return H(()=>{if(o.value){i.initPlayer(o.value).catch(u=>{});let l=0;const a=u=>{u-l>500&&(i.updateLrc(),l=u),s&&(s=requestAnimationFrame(a))},n=()=>{i.getInitialized()?s=requestAnimationFrame(a):setTimeout(n,100)};n()}}),Y(()=>{s&&(cancelAnimationFrame(s),s=null)}),(l,a)=>(g(),_("div",Ye,[e("div",{id:"aplayer",ref_key:"aplayerRef",ref:o},null,512)]))}}),Xe={class:"dialog-content"},Je=["disabled"],Qe=["disabled"],Ze={key:0,class:"btn-loader"},et={key:0,class:"error-message"},tt={key:1,class:"response-box"},st={class:"response-content"},nt={__name:"PetDialog",props:{position:{type:Object,required:!0,default:()=>({x:0,y:0})}},emits:["close"],setup(f,{emit:o}){const i=p(""),s=p(null),l=p(!1),a=p(null),n=async()=>{if(i.value.trim()){l.value=!0,a.value=null,s.value=null;try{const c=await u(i.value);s.value=c}catch(c){a.value="请求失败："+c.message}finally{l.value=!1}}},u=async c=>{const t=await fetch("https://api.deepseek.com/v1/chat/completions ",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-dd495891eb304b9789f54f505e4edd6d"},body:JSON.stringify({model:"deepseek-chat",messages:[{role:"system",content:"你是一只可爱的猫娘,会可爱地回答主人地提问"},{role:"user",content:c}],temperature:.7,max_tokens:1024})});if(!t.ok){const h=await t.json();throw new Error(h.error?.message||`HTTP error! status: ${t.status}`)}return(await t.json()).choices[0]?.message?.content||"未收到有效响应"};return(c,m)=>(g(),_("div",{class:"pet-dialog",style:W({left:f.position.x+"px",top:f.position.y+"px"})},[m[3]||(m[3]=e("div",{class:"light-spots"},null,-1)),e("div",Xe,[e("button",{class:"close-btn",onClick:m[0]||(m[0]=d=>c.$emit("close"))},"×"),F(e("textarea",{"onUpdate:modelValue":m[1]||(m[1]=d=>i.value=d),placeholder:"在这里输入您的问题...",disabled:l.value},null,8,Je),[[V,i.value]]),e("button",{class:"submit-btn",onClick:n,disabled:l.value||!i.value.trim()},[l.value?(g(),_("span",Ze)):S("",!0),e("span",null,P(l.value?"思考中...":"发送请求"),1)],8,Qe),a.value?(g(),_("div",et,P(a.value),1)):S("",!0),s.value?(g(),_("div",tt,[m[2]||(m[2]=e("h4",null,"✨ 回答：",-1)),e("div",st,P(s.value),1)])):S("",!0)])],4))}},ot=A(nt,[["__scopeId","data-v-2ac14598"]]),lt=""+new URL("0-DamdUnDZ.png",import.meta.url).href,it=""+new URL("1-DftKG7N7.png",import.meta.url).href,at=""+new URL("2-BtwrwR3t.png",import.meta.url).href,rt=""+new URL("3-DQmztLGY.png",import.meta.url).href,ut=""+new URL("0-DIhvEi9r.png",import.meta.url).href,ct=""+new URL("1-BzV8q9Ph.png",import.meta.url).href,dt=""+new URL("2-BouLaBcZ.png",import.meta.url).href,mt=""+new URL("3-C0neqxli.png",import.meta.url).href,pt=""+new URL("0-3LAgddLp.png",import.meta.url).href,ft=""+new URL("1-ChGIfKoC.png",import.meta.url).href,vt=""+new URL("2-DG5nlh20.png",import.meta.url).href,gt=""+new URL("3-D9x9bCLq.png",import.meta.url).href,yt=""+new URL("4-DyW0EVh8.png",import.meta.url).href,_t=""+new URL("5-C1gddtiQ.png",import.meta.url).href,ht=["src"],wt=T({__name:"Pet",setup(f){const o={sleep:[lt,it,at,rt],mention:[ut,ct,dt,mt],standby:[pt,ft,vt,gt,yt,_t]},i=p(o.sleep),s=p(0),l=p(!1),a=p({x:0,y:0}),n=E(()=>i.value[s.value]);let u=null;const c=p({x:1380,y:720}),m=p(!1);let d={x:0,y:0},t=0;const k=()=>{s.value=(s.value+1)%i.value.length},h=(v,I=250)=>{w(),i.value=o[v],s.value=0,u=window.setInterval(k,I)},w=()=>{u&&clearInterval(u),u=null},$=v=>{m.value?L():x(v)},x=v=>{m.value=!0,h("mention");const I=v.currentTarget.getBoundingClientRect();d={x:v.clientX-I.left,y:v.clientY-I.top},window.addEventListener("mousemove",y),window.addEventListener("mouseup",r),t=Date.now()},L=()=>{m.value=!1,h("standby"),window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",r)},y=v=>{m.value&&(c.value={x:v.clientX-d.x,y:v.clientY-d.y})},r=()=>{Date.now()-t<200&&L()},C=v=>{a.value={x:v.clientX+20,y:v.clientY+20},l.value=!0},D=()=>{l.value=!1};return H(()=>{Object.values(o).flat().forEach(v=>{const I=new window.Image;I.src=v}),h("sleep")}),Y(()=>w()),(v,I)=>(g(),_("div",null,[e("div",{class:"Pet",onClick:$,onContextmenu:K(C,["prevent"]),style:W({left:c.value.x+"px",top:c.value.y+"px"})},[e("img",{src:n.value,alt:"Firefly",class:"dynamicPet",loading:"lazy"},null,8,ht)],36),(g(),q(ae,{to:"body"},[l.value?(g(),q(ot,{key:0,position:a.value,onClose:D},null,8,["position"])):S("",!0)]))]))}}),kt=A(wt,[["__scopeId","data-v-ccea00de"]]),bt=T({__name:"App",setup(f){const o=p(!1);return(i,s)=>{const l=z("router-view");return g(),_(G,null,[e("div",null,[M(We),M(we,{class:"menu-fixed",onOpenMusic:s[0]||(s[0]=a=>o.value=!0)}),o.value?(g(),q(He,{key:0,onClose:s[1]||(s[1]=a=>o.value=!1)})):S("",!0),M(l)]),M(kt)],64)}}}),xt=A(bt,[["__scopeId","data-v-90fb40b8"]]),Ct="modulepreload",$t=function(f,o){return new URL(f,o).href},j={},O=function(o,i,s){let l=Promise.resolve();if(i&&i.length>0){let m=function(d){return Promise.all(d.map(t=>Promise.resolve(t).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};const n=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");l=m(i.map(d=>{if(d=$t(d,s),d in j)return;j[d]=!0;const t=d.endsWith(".css"),k=t?'[rel="stylesheet"]':"";if(!!s)for(let $=n.length-1;$>=0;$--){const x=n[$];if(x.href===d&&(!t||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${k}`))return;const w=document.createElement("link");if(w.rel=t?"stylesheet":Ct,t||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),t)return new Promise(($,x)=>{w.addEventListener("load",$),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(n){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=n,window.dispatchEvent(u),!u.defaultPrevented)throw n}return l.then(n=>{for(const u of n||[])u.status==="rejected"&&a(u.reason);return o().catch(a)})},Lt=[{path:"/",name:"Home",component:()=>O(()=>import("./Home-p9zUc2p7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)},{path:"/blog",name:"Blog",component:()=>O(()=>import("./Blog-BbrwbiRE.js"),__vite__mapDeps([8,9,1,10,11,2,3,4,5,6,12]),import.meta.url)},{path:"/blog/:id",name:"BlogDetail",component:()=>O(()=>import("./BlogDetail-Bkh_7e7D.js"),__vite__mapDeps([13,11,1,3,4,5,6,14]),import.meta.url)}],Pt=re({history:ue(),routes:Lt}),N=ce(xt);N.use(Pt);N.use(me());N.mount("#app");export{we as M,A as _,O as a};
